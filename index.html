<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>FlatMap</title>
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" >
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="">
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <style>
        .toggle{
            font-size: 20px;
        }
        .jumbotron{
            background-color: #2E2D88;
            color: white;
        }
        .btn-group .button {
            background-color: #4CAF50; /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            float: left;
        }

        .btn-group .button:hover {
            background-color: #3e8e41;
        }
        .switch {
          position: relative;
          display: inline-block;
          width: 60px;
          height: 34px;
        }

        .switch input { 
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          -webkit-transition: .4s;
          transition: .4s;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 26px;
          width: 26px;
          left: 4px;
          bottom: 4px;
          background-color: white;
          -webkit-transition: .4s;
          transition: .4s;
        }

        input:checked + .slider {
          background-color: #2196F3;
        }

        input:focus + .slider {
          box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
          -webkit-transform: translateX(26px);
          -ms-transform: translateX(26px);
          transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
          border-radius: 34px;
        }

        .slider.round:before {
          border-radius: 50%;
        }
    </style>
</head>


<body>



   

    <div class="page-header text-center" style="padding-top: 50px">
        <h1 class="display-4">FlatMap</h1>
    </div>
    


    <section class="text-center">
        <div class="container">  
          <p>
            <a href="#" class="btn btn-primary my-2" style="width: 130px">Single</a>
            <a href="#" class="btn btn-primary my-2" style="width: 130px">Compare</a>
          </p>
        </div>
      </section>


    <section class="text-center" style="padding-bottom: 20px">  
        <div class="btn-group">
          <button class="button" style="width: 130px">Running</button>
          <button class="button" style="width: 130px">Cycling</button>
          <button class="button" style="width: 130px">Hiking</button>
        </div>
    </section>



    <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark text-center">
     
            
        
        
            <div class="row" >

                <div class="col-md-4" >
                    <a class="toggle">Heart Rate</a>
                    <label class="switch">
                      <input type="checkbox">
                      <span class="slider"></span>
                    </label>

                </div>

                <div class="col-md-4">
                    <a class="toggle">Cadence</a>
                    <label class="switch">
                      <input type="checkbox">
                      <span class="slider"></span>
                    </label>
                </div>

                <div class="col-md-4">
                    <a class="toggle">Elevation</a>
                    <label class="switch">
                      <input type="checkbox">
                      <span class="slider"></span>
                    </label>
                </div>
            </div>
     
            <div class="row">
                <div class="col-md-4" style="padding-left: 65px">
                    <a class="toggle">Pace</a>
                    <label class="switch">
                      <input type="checkbox">
                      <span class="slider"></span>
                    </label>
                </div>

                <div class="col-md-4" style="padding-left: 17px">
                    <a class="toggle">Distance</a>
                    <label class="switch">
                      <input type="checkbox">
                      <span class="slider"></span>
                    </label>
                </div>
                    
                <div class="col-md-4" style="padding-left: 52px">
                    <a class="toggle">Time</a>
                    <label class="switch">
                      <input type="checkbox">
                      <span class="slider"></span>
                    </label>
                </div>
            </div>
          
        </div>
      </div>


    <div class="card-deck mb-3 text-center">

        <div class="card mb-4 shadow-sm" style="background-color:#E8E7EF">
            <div class="card-body">
            <div class="media text-muted pt-3">
                <img src="https://image.flaticon.com/icons/svg/210/210521.svg" alt="" class="mr-2 rounded" style="width: 120px; height: 120px; padding-bottom: 20px">
            </div>
            <div class="media text-muted pt-3">
                <img src="https://image.flaticon.com/icons/svg/670/670750.svg" alt="" class="mr-2 rounded" style="width: 120px; height: 120px; padding-bottom: 20px">
            </div>
            <div class="media text-muted pt-3">
                <img src="https://image.flaticon.com/icons/svg/1180/1180411.svg" alt="" class="mr-2 rounded" style="width: 120px; height: 120px; padding-bottom: 20px">
            </div>
            </div>
        </div>

        
        

        <div class="card mb-4 shadow-sm">    
          <div class="card-body">
            <div class="container">
            <div class="row-fluid">
                <div class="span8">

                    <div id="mapid" style="width: 420px; height: 420px;" width="100%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></div>
                    <iframe id="mapid" width="100%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.co.uk/maps?f=q&source=s_q&hl=en&geocode=&q=15+Springfield+Way,+Hythe,+CT21+5SH&aq=t&sll=52.8382,-2.327815&sspn=8.047465,13.666992&ie=UTF8&hq=&hnear=15+Springfield+Way,+Hythe+CT21+5SH,+United+Kingdom&t=m&z=14&ll=51.077429,1.121722&output=embed"></iframe>
                </div>
                
                <div class="span4">
              
                    
                </div>
            </div>
        </div>
            
            
          </div>
        </div>

        <div class="card mb-4 shadow-sm" style="background-color:#E8E7EF; padding-right: 10px">
          <div class="card-body">
            <div class="media text-muted pt-3">
                <img src="https://image.flaticon.com/icons/svg/763/763965.svg" alt="" class="mr-2 rounded" style="width: 120px; height: 120px; padding-bottom: 20px">
            </div>
            <div class="media text-muted pt-3">
                <img src="https://image.flaticon.com/icons/svg/55/55212.svg" alt="" class="mr-2 rounded" style="width: 120px; height: 120px; padding-bottom: 20px">
            </div>
            <div class="media text-muted pt-3">
                <img src="https://image.flaticon.com/icons/svg/149/149318.svg" alt="" class="mr-2 rounded" style="width: 120px; height: 120px; padding-bottom: 20px">
            </div>
            </div>
        </div>


      </div>

    </div>


    


    <script>

	var mymap = L.map('mapid').setView([51.505, -0.09], 13);

    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamF3YWRzaGFoaWQiLCJhIjoiY2puZzQ0eno3MDRjbDNrcWlsZjZxNTcxaSJ9.mavbvckNOMnntmxWcKboyQ', {
    maxZoom: 18,
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
        '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
        'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    id: 'mapbox.streets'
    }).addTo(mymap);


    </script>

<!--
    <button type="button" onclick="loadXMLDoc()">
        Show
    </button>

    <button type="button" onclick="plotsinglepath()">
        Plot Random
    </button>
    -->

    <!--
    <button type="button" onclick="plotpath()">
        Plot
    </button>
    

    <div id="testing">

    </div>

    <div id="lists_try">

    </div>

    <div id="plotpoints">

    </div>

    <div>
        <h3>
            Average Heart Rate
        </h3>
        <p id="average-HR">

        </p>
    </div>

    <div>
        <h3>
           Average Cadence
        </h3>
        <p id="average-CAD">
    
        </p>
    </div>
    -->

    
    <script>
        
        //var text, parser, xmlDoc, serializer;
        
        function loadXMLDoc() {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                myFunction(this);
            }
            };
            xmlhttp.open("GET", "A.gpx", true);
            xmlhttp.send();
        }

        function myFunction(xml) {
            var xmlDoc, txt, alltrkpts;
            xmlDoc = xml.responseXML;
            txt = xmlDoc.getElementsByTagName("name")[0].childNodes[0].nodeValue;
            //alltrkptslen = xmlDoc.getElementsByTagName("ns3:hr").length;
            //document.getElementById("lists_try").innerHTML = alltrkptslen;
            document.getElementById("testing").innerHTML = txt;
            
            plotcords = [];
            plotpoints = xmlDoc.getElementsByTagName("trkpt");
            for (i = 0; i < plotpoints.length; i++) {
                plotcords.push([plotpoints[i].getAttribute('lat'), plotpoints[i].getAttribute('lon')])
            }
            //document.getElementById("plotpoints").innerHTML = plotcords

            var polyline = L.polyline(plotcords, {color: 'red'}).addTo(mymap);
            // zoom the map to the polyline
            mymap.fitBounds(polyline.getBounds());

            var avghr = 0;
            var avghrcount = xmlDoc.getElementsByTagName("gpxtpx:hr").length;
            for (i =0; i < avghrcount; i++) {
                avghr = +avghr + +xmlDoc.getElementsByTagName("gpxtpx:hr")[i].childNodes[0].nodeValue;
            }
            avghr = +avghr/+avghrcount
            document.getElementById("average-HR").innerHTML = avghr;
            /*
            var avgcad = 0;
            var avgcadcount = xmlDoc.getElementsByTagName("ns3:cad").length;
            for (i =0; i < avgcadcount; i++) {
                avgcad = +avgcad + +xmlDoc.getElementsByTagName("ns3:cad")[i].childNodes[0].nodeValue;
            }
            avgcad = +avgcad/+avgcadcount
            document.getElementById("average-CAD").innerHTML = avgcad;
            */
            var elelist = xmlDoc.getElementsByTagName("ele");
            for (b = 0; b < elelist.length; b += 100) {
                var firstmarker = L.marker(plotcords[b]).addTo(mymap);
                firstmarker.bindPopup("<b>Elevation</b><br>" + elelist[b].childNodes[0].nodeValue);
            }
            //var firstmarker = L.marker(plotcords[0]).addTo(mymap);
            //firstmarker.bindPopup("<b>Elevation</b><br>" + elelist[0].childNodes[0].nodeValue);
            
        }

        function plotsinglepath() {

            //mymap.setView([51.505, -0.09], 13);

            // create a red polyline from an array of LatLng points
            var latlngs = [
            [45.51, -122.68],
            [37.77, -122.43],
            [34.04, -118.2]
            ];
            var polyline = L.polyline(latlngs, {color: 'red'}).addTo(mymap);
            // zoom the map to the polyline
            mymap.fitBounds(polyline.getBounds());
        }
    
    
    </script>

     <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="http://v4-alpha.getbootstrap.com/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="http://v4-alpha.getbootstrap.com/dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="http://v4-alpha.getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js"></script>

</body>


</html>